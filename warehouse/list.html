<div class="row full-height">
  <input type="hidden" ng-model="byWhat" ng-init="byWhat='bySearch';">
  <input type="hidden" ng-model="selectedType">
  <div class="col-lg-12 full-height" ng-switch on="byWhat">
    <!-- product list -->
    

      <div class="col-lg-9 full-height products-container" ng-switch-when="bySearch">
        <div class="row search-container">
          <h5>商品</h5>
          <hr>
          <form class="col-lg-12 navbar-form search-form">
            <input type="text" class="form-control search" ng-model="searchText" ng-change="change()" placeholder="按 条形码 或 商品名称/拼音首写字母 查找">
              <div class="glyphicon glyphicon-barcode"></div>
            </input>
            <input type="button" class="btn btn-info settle glyphicon pull-right" ng-click='byType()' value="目录"></input>
          </form>
        </div>
        <hr>
        <div class="row product-list">
          <div class="row product-row">
            <div class="col-lg-2" ng-repeat="product in sproducts">
              <div class="thumbnail" ng-click='detail(product.code)'>
                <img ng-src="{{product.img}}" class="img-responsive" alt="{{product.name}}">
                <div class="caption">
                  <div class="name">{{product.name}}</div>
                  <div class="spec">{{product.spec}}</div>
                  <!-- div class="idx">{{product.idx}}</div -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-9 full-height products-container" ng-switch-when="byType">
        <div class="row search-container">
          <h5>商品</h5>
          <hr>
          <ul class="nav nav-tabs">
            <li data-ng-repeat="type in types" ng-class="{active:selectedType==type}" ng-click='getType(type)'><a>{{type}}</a></li>
            <li ng-class="{active:selectedType=='全部'}" ng-click="getType('全部')"><a>全部</a></li>
            <input type="button" class="btn btn-info settle glyphicon pull-right" ng-click='bySearch()' value="搜索"></input>
          </ul>
        </div>
        <hr>
        <div class="row product-list">
          <div class="row product-row">
            <div class="col-lg-2" ng-repeat="product in products">
              <div class="thumbnail" ng-click='detail(product.code)'>
                <img ng-src="{{product.img}}" class="img-responsive" alt="{{product.name}}">
                <div class="caption">
                  <div class="name">{{product.name}}</div>
                  <div class="spec">{{product.spec}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    <!-- /product list -->

    <!-- product detail -->
    <div class="col-lg-3 full-height op-panel pull-right">
      <!-- detail -->
      <div class="row product-detail-container">
        <h5>商品详细</h5>
        <hr>
        <div class="thumbnail">
          <img ng-src="{{item.img}}" class="img-responsive" alt="{{item.name}}">
          <div class="caption">
            <div class="name">{{item.name}}</div>
            <div class="spec">{{item.type}}</div>
            <div class="spec">{{item.spec}}</div>
            <div class="spec">{{item.addr}}</div>
          </div>
        </div>
      </div>

      <div class="row total product-sub-total-container" style="height:40%;">
        <hr>
          <div class="span3">
              <span class="">库存</span>
              <input type="text" ng-model="item.amount">
          </div>
          <div class="span3">
              <span class="">进货价</span>
              <input type="text" ng-model="item.cost">
          </div>
          <div class="span3">
              <span class="">销售价</span>
              <input type="text" ng-model="item.sellingPrice">
          </div>
          <div class="span3">
            <button type="button" class="btn btn-info btn-large settle glyphicon glyphicon-plus-sign" ng-click='save()'> 保存修改</button>
          </div>
      </div>
      <!-- /sub total -->
      <!-- buttons -->
      <div class="row detail-buttons" style="height:12%;">
        <div class="buttons">
        <div class="button">
          <button type="button" class="btn btn-info btn-large settle glyphicon glyphicon-plus-sign" ng-click='new()'> 增加</button>
          <button type="button" class="btn btn-success btn-large settle glyphicon glyphicon-minus-sign" ng-click='import()'> 导入</button>
        </div>
        </div>
      </div>
      <!-- /buttons -->
    </div>
    <!-- /product detail -->
  </div>
</div>


<!--left side--一下是老版本>
<div class="container-fluid" style="height: 100%; overflow: hidden;">
  <div class="row-fluid" id="">
    <div class="span9">
      <input type="hidden" ng-model="byWhat" ng-init="byWhat='bySearch';">
      <ul class="nav nav-tabs">
        <li class="span5 text-center" ng-class="{active:byWhat=='bySearch'}" ng-click='bySearch()'><a>Search</a></li>
        <li class="span5 text-center" ng-class="{active:byWhat=='byType'}" ng-click='byType()'><a>type</a></li>
      </ul>
      
    </div>
    <div class="span3">
      <a class="btn btn-primary" id="add-button" ng-click='new()'> new </a>
    </div>
  </div>
  <div ng-switch on="byWhat" >

    <div class="row-fluid" ng-switch-when="bySearch">
      <div class="input-append span12">
        <input class="span9" type="text" ng-model="searchText" ng-change="change()" placeholder="name or code">
        <button class="btn" type="button">search!</button>
      </div>

      <div class="span12 products" data-ng-repeat="product in sProducts" id="{{product.code}}">
        <div class="span2">
          <img "media-object" data-ng-src="{{product.icon}}">
        </div>
        <div class="span3">
          <p>
            {{product.code}}
          </p>
        </div>
        <div class="span2">
          <a ng-click='detail(product.code)'>{{product.name}}</a>
        </div>
        <div class="span2">
          <p>
            {{product.type}}
          </p>
        </div>
      </div>
    </div>

    <div class="row-fluid" ng-switch-when="byType">
      <div class="span12">
        <input type="hidden" ng-model="selectedType" ng-init="selectedType='1';getType(selectedType);">
        <ul class="nav nav-tabs">
          <li class="span2 text-center" data-ng-repeat="type in types" ng-class="{active:selectedType==type}" ng-click='getType(type)'><a>{{type}}</a></li>
          <li class="span2 text-center" ng-class="{active:selectedType==type}" ng-click="getType('all')"><a>all</a></li>
        </ul>
      </div>

      <div class="row-fluid hide" id="subType-div">
        <div class="span4">
          <p class="navbar-text">type1</p>
        </div>
        <div class="span4">
          <p class="navbar-text">type2</p>
        </div>
        <div class="span4">
          <p class="navbar-text">type3</p>
        </div>
      </div>

      <div class="span12 products" data-ng-repeat="product in tProducts" id="{{product.code}}">
        <div class="span2">
          <img "media-object" data-ng-src="{{product.icon}}">
        </div>
        <div class="span3">
          <p>
            {{product.code}}
          </p>
        </div>
        <div class="span2">
          <a ng-click='detail(product.code)'>{{product.name}}</a>
        </div>
        <div class="span2">
          <p>
            {{product.type}}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
